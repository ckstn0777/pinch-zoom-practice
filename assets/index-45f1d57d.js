(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const s of e.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function c(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(t){if(t.ep)return;t.ep=!0;const e=c(t);fetch(t.href,e)}})();const r=[];let l=-1;function a({event:o}){const n=o.changedTouches;if(r.length+n.length<=2)for(let c=0;c<n.length;c++){const i=n[c];r.push(i)}}function h({event:o}){const n=o.changedTouches;for(let c=0;c<n.length;c++){const i=n[c],t=r.findIndex(e=>e.identifier===i.identifier);t!==-1&&r.splice(t,1)}}function g({event:o,onPinch:n}){const c=o.changedTouches;for(let i=0;i<c.length;i++){const t=c[i],e=r.findIndex(s=>s.identifier===t.identifier);if(e!==-1&&(r[e]=t,r.length===2)){const s=r[0].clientX-r[1].clientX,u=r[0].clientY-r[1].clientY,f=Math.sqrt(s*s+u*u);if(l>0){const d=f-l;n({zoom:d})}l=f}}}function m({screen:o,target:n,setState:c,getState:i}){const t=({zoom:e})=>{if(e===0)return;const{scale:s}=i(),u=.02,f=s+(e>0?u:-u);c({scale:f})};o.addEventListener("touchstart",e=>a({event:e})),o.addEventListener("touchmove",e=>g({event:e,onPinch:t})),o.addEventListener("touchend",e=>h({event:e}))}function p(o,n){const c={scale:.5};m({screen:o,target:n,setState:({scale:e})=>{c.scale=e,n.style.transform=`scale(${e})`},getState:()=>c})}function y(){function o(n){n.touches.length>1&&n.preventDefault()}document.addEventListener("touchmove",o,{passive:!1})}function v(){y();const o=document.getElementById("screen"),n=document.getElementById("img-wrapper");if(!o||!n)throw new Error("Element not found");p(o,n)}v();
