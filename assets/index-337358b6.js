(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const i=[];let p=-1;function x({event:c}){const e=c.changedTouches;if(i.length+e.length<=2)for(let o=0;o<e.length;o++){const s=e[o];i.push(s)}}function v({event:c}){const e=c.changedTouches;for(let o=0;o<e.length;o++){const s=e[o],t=i.findIndex(n=>n.identifier===s.identifier);t!==-1&&i.splice(t,1)}}function E({event:c,onPinch:e}){const o=c.changedTouches;for(let s=0;s<o.length;s++){const t=o[s],n=i.findIndex(r=>r.identifier===t.identifier);if(n!==-1&&(i[n]=t,i.length===2)){const r=i[0].clientX-i[1].clientX,l=i[0].clientY-i[1].clientY,f=Math.sqrt(r*r+l*l);if(p>0){const a=f-p,u=(i[0].clientX+i[1].clientX)/2,d=(i[0].clientY+i[1].clientY)/2,{top:h,left:g}=c.currentTarget.getBoundingClientRect();e({zoom:a,x:u-g,y:d-h})}p=f}}}function L({screen:c,setState:e,getState:o}){const s=({zoom:t,x:n,y:r})=>{if(t===0)return;const{x:l,y:f,scale:a}=o(),u=.02,d=a+(t>0?u:-u),h=(n-l)*((t>0?u:-u)/a),g=(r-f)*((t>0?u:-u)/a),m=l-h,y=f-g;e({x:m,y,scale:d})};c.addEventListener("touchstart",t=>x({event:t})),c.addEventListener("touchmove",t=>E({event:t,onPinch:s})),c.addEventListener("touchend",t=>v({event:t}))}function S(c,e){const o={x:0,y:0,scale:1};L({screen:c,setState:({x:n,y:r,scale:l})=>{o.x=n,o.y=r,o.scale=l,e.style.transform=`translateX(${n}px) translateY(${r}px) scale(${l})`},getState:()=>o})}function X(){function c(e){e.touches.length>1&&e.preventDefault()}document.addEventListener("touchmove",c,{passive:!1})}function Y(){X();const c=document.getElementById("screen"),e=document.getElementById("img-wrapper");if(!c||!e)throw new Error("Element not found");S(c,e)}Y();
